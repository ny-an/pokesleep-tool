import"../assets/modulepreload-polyfill-B5Qt9EMX.js";import{a as q,r as G,e as M,q as $,w as H,o as z}from"../assets/util-CFJn8IVE.js";import{f as O,P as R,e as U,l as J}from"../assets/data-1XF2jpIe.js";import"../assets/i18n-api-C-wNLAg_.js";import{i as s}from"../assets/i18n-core-D0abyBPt.js";import"../assets/field-B3S_0DUv.js";import"../assets/event-Bw2ifMvd.js";import"../assets/pokemon-B9QZLuNc.js";import"../assets/news-99KugwsW.js";import"../assets/i18n-D1-t3UoS.js";import"../assets/react-BrKbjQqq.js";import"../assets/vendor-BBGq-grf.js";function j(t){const n={recoveryBonusCount:3,isGoodCampTicketSet:!0,level:60,evolved:!0,maxSkillLevel:!0,recipeBonus:78},a=t.get("period");if(a!==null){const e=parseInt(a,10);!isNaN(e)&&[1,3,8,16,24,168,H,-10,-30,-100].includes(e)&&(n.period=e)}const N=t.get("fieldBonus");if(N!==null){const e=parseInt(N,10);!isNaN(e)&&e>=0&&e<=100&&(n.fieldBonus=Math.floor(e))}const p=t.get("fieldIndex");if(p!==null){const e=parseInt(p,10);!isNaN(e)&&e>=M&&e<O.length&&(n.fieldIndex=e)}const m=t.get("favoriteType");if(m!==null){const e=m.split(",").map(r=>r.trim());e.length===3&&e.every(r=>R.includes(r))&&(n.favoriteType=e)}const u=t.get("expertEffect");u!==null&&["berry","ing","skill"].includes(u)&&(n.expertEffect=u);const d=t.get("e4eEnergy");if(d!==null){const e=parseInt(d,10);!isNaN(e)&&[5,7,9,11,15,18].includes(e)&&(n.e4eEnergy=e)}const f=t.get("e4eCount");if(f!==null){const e=parseInt(f,10);!isNaN(e)&&e>=0&&e<=10&&(n.e4eCount=e)}const l=t.get("recoveryBonusCount");if(l!==null){const e=parseInt(l,10);!isNaN(e)&&e>=0&&e<=4&&(n.recoveryBonusCount=Math.min(e,4))}const o=t.get("isEnergyAlwaysFull");o!==null&&(n.isEnergyAlwaysFull=o==="true");const g=t.get("sleepScore");if(g!==null){const e=parseInt(g,10);!isNaN(e)&&e>=0&&e<=100&&(n.sleepScore=e)}const y=t.get("tapFrequency");y!==null&&["always","none"].includes(y)&&(n.tapFrequency=y);const i=t.get("tapFrequencyAsleep");i!==null&&["always","none"].includes(i)&&(n.tapFrequencyAsleep=i);const v=t.get("helpBonusCount");if(v!==null){const e=parseInt(v,10);!isNaN(e)&&e>=0&&e<=4&&(n.helpBonusCount=e)}const k=t.get("isGoodCampTicketSet");k!==null&&(n.isGoodCampTicketSet=k==="true");const b=t.get("level");if(b!==null){const e=parseInt(b,10);!isNaN(e)&&[0,10,25,30,50,55,60,75,100].includes(e)&&(n.level=e)}const c=t.get("evolved");c!==null&&(n.evolved=c==="true");const S=t.get("maxSkillLevel");S!==null&&(n.maxSkillLevel=S==="true");const h=t.get("totalFlags");if(h!==null){const e=h.split(",").map(r=>r.trim()==="true");e.length===3&&e.every(r=>typeof r=="boolean")&&(n.totalFlags=e)}const w=t.get("addHelpingBonusEffect");w!==null&&(n.addHelpingBonusEffect=w==="true");const C=t.get("recipeBonus");if(C!==null){let e=parseInt(C,10);isNaN(e)||((e===6||e===11)&&(e=19),e===17&&(e=21),[0,19,20,21,25,35,48,61,78].includes(e)&&(n.recipeBonus=e))}const T=t.get("recipeLevel");if(T!==null){const e=parseInt(T,10);!isNaN(e)&&[1,10,20,30,40,50,55,60,65].includes(e)&&(n.recipeLevel=e)}const I=t.get("helperBoostLevel");if(I!==null){const e=parseInt(I,10);!isNaN(e)&&e>0&&e<=z("Helper Boost")&&(n.helperBoostLevel=e)}const L=t.get("helperBoostSpecies");if(L!==null){const e=parseInt(L,10);!isNaN(e)&&e>0&&e<=6&&(n.helperBoostSpecies=e)}const E=t.get("berryBurstAuto");E!==null&&(n.berryBurstTeam=n.berryBurstTeam||{auto:!0,species:3,members:[]},n.berryBurstTeam.auto=E==="true");const F=t.get("berryBurstSpecies");if(F!==null){const e=parseInt(F,10);isNaN(e)||(n.berryBurstTeam=n.berryBurstTeam||{auto:!0,species:3,members:[]},n.berryBurstTeam.species=e)}const P=t.get("berryBurstMembers");if(P!==null)try{const e=JSON.parse(P);Array.isArray(e)&&e.length<=4&&(n.berryBurstTeam=n.berryBurstTeam||{auto:!0,species:3,members:[]},n.berryBurstTeam.members=e.slice(0,4))}catch{}const A=U.bonus.map(e=>e.name),B=t.get("event");B!==null&&["none","custom",...A].includes(B)&&(n.event=B);const x=t.get("customEventBonus");if(x!==null)try{const e=JSON.parse(x);typeof e=="object"&&e!==null&&(n.customEventBonus=J(e))}catch{}return $(n)}try{const t=new URLSearchParams(window.location.search),n=t.get("iv");if(!n)throw new Error("iv parameter is required");const a=t.get("lang")||"en",p=["en","ja","ko","zh-CN","zh-TW"].includes(a)?a:"en";await s.changeLanguage(p);const m=q.deserialize(n),u=m.pokemonName,d=j(t),f=new G(m,d),l=f.calculate(),o=f.pokemonIv,g=o.pokemonName,y={pokemon:s.t(`pokemons.${g}`),inputPokemon:u!==g?s.t(`pokemons.${u}`):null,level:o.level,skillLevel:o.skillLevel,subSkills:{lv10:o.subSkills.lv10?s.t(`subskill.${o.subSkills.lv10.name}`):null,lv25:o.subSkills.lv25?s.t(`subskill.${o.subSkills.lv25.name}`):null,lv50:o.subSkills.lv50?s.t(`subskill.${o.subSkills.lv50.name}`):null,lv75:o.subSkills.lv75?s.t(`subskill.${o.subSkills.lv75.name}`):null,lv100:o.subSkills.lv100?s.t(`subskill.${o.subSkills.lv100.name}`):null},nature:s.t(`natures.${o.nature.name}`),ingredient:o.ingredient,ribbon:o.ribbon},i={leek:"Large Leek",mushroom:"Tasty Mushroom",egg:"Fancy Egg",potato:"Soft Potato",apple:"Fancy Apple",herb:"Fiery Herb",sausage:"Bean Sausage",milk:"Moomoo Milk",honey:"Honey",oil:"Pure Oil",ginger:"Warming Ginger",tomato:"Snoozy Tomato",cacao:"Soothing Cacao",tail:"Slowpoke Tail",soy:"Greengrass Soybeans",corn:"Greengrass Corn",coffee:"Rousing Coffee",pumpkin:"Plump Pumpkin",avocado:"Glossy Avocado",unknown:"Unknown",unknown1:"Unknown1",unknown2:"Unknown2",unknown3:"Unknown3"},v={en:i,ja:{leek:"ふといながねぎ",mushroom:"あじわいキノコ",egg:"とくせんエッグ",potato:"ほっこりポテト",apple:"とくせんリンゴ",herb:"げきからハーブ",sausage:"マメミート",milk:"モーモーミルク",honey:"あまいミツ",oil:"ピュアなオイル",ginger:"あったかジンジャー",tomato:"あんみんトマト",cacao:"リラックスカカオ",tail:"おいしいシッポ",soy:"ワカクサ大豆",corn:"ワカクサコーン",coffee:"めざましコーヒー",pumpkin:"ふっくらカボチャ",avocado:"つやつやアボカド",unknown:"不明",unknown1:"不明1",unknown2:"不明2",unknown3:"不明3"},ko:i,"zh-CN":i,"zh-TW":i},k={ingredients:l.ingredients.map(c=>({name:v[p]?.[c.name]||c.name,count:c.count})),skill:{skillRatio:l.skillRatio,skillCount:l.skillCount,skillValue:l.skillValue}},b={success:!0,result:{iv:y,summary:k,...l}};document.body.textContent=JSON.stringify(b,null,2),document.body.style.fontFamily="monospace",document.body.style.padding="1rem",document.body.style.whiteSpace="pre-wrap"}catch(t){const n={success:!1,error:t.message||String(t)};document.body.textContent=JSON.stringify(n,null,2),document.body.style.fontFamily="monospace",document.body.style.padding="1rem",document.body.style.color="red",document.body.style.whiteSpace="pre-wrap"}
